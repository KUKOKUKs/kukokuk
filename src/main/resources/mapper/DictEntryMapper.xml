<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kukokuk.mapper.DictEntryMapper">

  <!--
      public DictEntry getEntryByNo(@Param("entryNo") int entryNo);

      단일 사전 엔트리 조회
      - entryNo: 조회할 단어의 고유 번호
  -->
  <select id="getEntryByNo" parameterType="int" resultType="DictEntry">
    SELECT *
    FROM KUKOKUK_DICT_ENTRIES
    WHERE ENTRY_NO = #{entryNo}
  </select>

  <!--
      public List<DictEntry> selectRandomEntriesExclude(@Param("excludeEntryNo") int excludeEntryNo, @Param("limit") int limit);

      특정 ENTRY_NO를 제외하고 랜덤하게 N개 단어를 조회
      - excludeEntryNo: 정답 단어 제외용
      - limit: 가져올 단어 수 (보통 3개)
  -->
  <select id="getRandomEntriesExclude" resultType="DictEntry">
    SELECT *
    FROM KUKOKUK_DICT_ENTRIES
    WHERE ENTRY_NO != #{excludeEntryNo}
    ORDER BY RAND()
    LIMIT #{limit}
  </select>

</mapper>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kukokuk.domain.ranking.mapper.ScoreCalculationMapper">

    <!--
        * 동일 정답수 그룹의 최대 소요 시간 조회 (스피드 퀴즈용)
        * @param correctAnswers 정답 수
        * @return 최대 시간 (초)
        Float getMaxTimeByCorrectAnswers(@Param("correctAnswers") int correctAnswers);
    -->
    <select id="getMaxTimeByCorrectAnswers" resultType="java.lang.Float">
        SELECT MAX(TOTAL_TIME_SEC)
        FROM KUKOKUK_QUIZ_SESSION_SUMMARIES
        WHERE CORRECT_ANSWERS = #{correctAnswers}
          AND QUIZ_MODE = 'speed'
    </select>

    <!--
        * 동일 정답수 그룹의 최소 소요 시간 조회 (스피드 퀴즈용)
        * @param correctAnswers 정답 수
        * @return 최소 시간 (초)
        Float getMinTimeByCorrectAnswers(@Param("correctAnswers") int correctAnswers);
    -->
    <select id="getMinTimeByCorrectAnswers" resultType="java.lang.Float">
        SELECT MIN(TOTAL_TIME_SEC)
        FROM KUKOKUK_QUIZ_SESSION_SUMMARIES
        WHERE CORRECT_ANSWERS = #{correctAnswers}
          AND QUIZ_MODE = 'speed'
    </select>

    <!-- 
      추후 받아쓰기 점수 계산용 쿼리 추가
        추후 학습 점수 계산용 쿼리 추가
       추후 기타 컨텐츠 점수 계산용 쿼리 추가
    -->

</mapper>
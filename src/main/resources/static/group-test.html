<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê·¸ë£¹ í•™ìŠµìë£Œ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸</title>
</head>
<body>
<h2>ğŸ“˜ ê·¸ë£¹ í•™ìŠµìë£Œ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸</h2>

<form id="uploadForm">
    <label>Group No:
        <input type="number" id="groupNo" value="1" />
    </label>
    <br><br>

    <label>Difficulty (1~6):
        <input type="number" id="difficulty" value="3" />
    </label>
    <br><br>

    <label>íŒŒì¼ ì„ íƒ:
        <input type="file" id="files" multiple />
    </label>
    <br><br>

    <button type="submit">ì—…ë¡œë“œ</button>
</form>

<pre id="result"></pre>

<script>
    document.getElementById("uploadForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const groupNo = document.getElementById("groupNo").value;
        const difficulty = document.getElementById("difficulty").value;
        const files = document.getElementById("files").files;

        const formData = new FormData();
        for (const file of files) {
            formData.append("files", file); // files íŒŒë¼ë¯¸í„° ì´ë¦„ ì£¼ì˜: @RequestParam("files")ì™€ ì¼ì¹˜í•´ì•¼ í•¨
        }
        formData.append("difficulty", difficulty);

        try {
            const res = await fetch(`/api/teachers/groups/1/materials/upload`, {
                method: "POST",
                body: formData
            });

            const data = await res.json();
            document.getElementById("result").textContent = JSON.stringify(data, null, 2);
        } catch (err) {
            document.getElementById("result").textContent = "ì˜¤ë¥˜ ë°œìƒ: " + err;
        }
    });
</script>
</body>
</html>
/* 학습 카드 요소 */
.study_card {
    .study_info {
        display: flex;
        flex-direction: column;
        gap: var(--smallGap);

        .study_content {
            font-size: var(--subFontSize);
            color: var(--grayColor);
        }
    }

    &.close {
        cursor: pointer;

        .study_info {
            .study_content {
                display: -webkit-box;           /* flex처럼 박스를 세로로 자를 준비 */
                -webkit-box-orient: vertical;   /* 세로 방향으로 텍스트를 자름 */
                -webkit-line-clamp: 2;          /* 표시할 줄 수 기본값: 2줄 */
                overflow: hidden;               /* 넘치는 내용 숨김 */
                text-overflow: ellipsis;        /* 잘린 부분에 말줄임 (...) 처리 */
            }

            .study_card_btns {
                display: none;
            }
        }
    }
}

.tag_list {
    .tag {
        &.not_started {
            background-color: var(--lightRedColor);
        }

        &.in_progress {
            background-color: var(--lightYellowColor);
        }

        &.completed {
            background-color: var(--subColor);
        }

        &.essay_undone {
            background-color: var(--lightBlueColor);
        }
    }
}

/* 학습 진행 네비바 */
.study_nav_container {
    .nav_list {
        padding: 0;
    }
}

.study_content_list {
    display: flex;
    flex-direction: column;
    gap: var(--smallGap);

    .study_list_icon {
        font-size: var(--subFontSize);
        font-weight: bold;
        padding: 0 var(--basePadding);
        display: flex;
        align-items: center;
        gap: var(--smallGap);
    }

    .study_content {
        width: 100%;

        .study_content_info {
            width: 100%;
            padding: var(--studyNavListPadding);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--smallGap);
            cursor: pointer;
            position: relative;
            transition: background-color var(--trst);

            .study_content_info_title {
                width: 100%;
                font-size: var(--subFontSize);
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            &::after {
                content: '';
                display: inline-block;
                width: 5px;
                height: 100%;
                position: absolute;
                top: 0;
                left: 0;
                transition: background-color var(--trst);
            }

            &:hover {
                background-color: var(--lightGrayColor);

                &::after {
                    background-color: var(--borderColor);
                }
            }

            &.selected {
                background-color: var(--subColor);

                .study_content_info_title {
                    font-weight: 500;
                }

                &::after {
                    background-color: var(--blueColor);
                }
            }
        }
    }
}

/* 학습 진행 관련 요소 */
.study_content_title {
    padding: 0 var(--smallGap);
    background-color: var(--subColor);

    &::before {
        content: "";
        display: inline-block;
        width: 5px;
        height: 100%;
        background-color: var(--blueColor);
        position: absolute;
        top: 0;
        left: 0;
    }
}

.study_progress {
    .component_info {
        border-radius: 0;

        &:nth-child(odd) {
            background-color: transparent;
        }

        .mark {
            text-align: center;
        }

        .bold {
            display: inline-block;
            background-color: var(--lightYellowColor); /* 형광펜 배경 */
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone; /* 크롬/사파리용 */
        }
    }
}

/* 논술형 AI 피드백 */
.essay_feedback_container {
    transition:
        max-width var(--trst),
        opacity var(--trst),
        padding var(--trst);

    &.close {
        max-width: 0 !important;
        padding: 0;
        opacity: 0;
        overflow: hidden;
    }
}

.essay_feedback_box {
    /* 초기 상태: 보이지 않고 아래쪽에서 대기 */
    opacity: 0;
    transform: translateY(12px);
    will-change: transform, opacity;

    /* JS에서 reveal 클래스가 붙으면 애니메이션 실행 */
    &.reveal {
        animation: riseIn .5s ease forwards; /* 0.5초동안 부드럽게 올라오기*/
        animation-delay: var(--delay, 0s); /* JS에서 카드별로 --delay로 순차 적용 */
    }

    .component_info {
        display: block;
        word-break: break-all;
    }
}

/* 올라오는 riseIn 애니메이션 정의 */
@keyframes riseIn {
    /* 시작시 투명하고, 살짝 아래 위치 */
    from {
        opacity: 0;
        transform: translateY(12px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
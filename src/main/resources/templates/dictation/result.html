<!DOCTYPE html>
<html layout:decorate="~{/layout/center}" th:with="title='Î∞õÏïÑÏì∞Í∏∞ Í≤∞Í≥º'">
<div layout:fragment="content">
    <div id="main-content" class="content_container">
        <div class="content_info">
            <div class="content_title justify_content_center">
                <iconify-icon icon="flat-color-icons:voice-presentation"></iconify-icon>
                Î∞õÏïÑÏì∞Í∏∞ Í≤∞Í≥º
            </div>

            <div class="grid_list_component" style="--cols: 2;">
                <div class="component grid_list full_grid bg_primary color_white highlight">
                    <div class="component_title">
                        <th:block th:with="
                                resultMsg=${
                                    correctScore == 100 ? 'ÏôÑÎ≤Ω, Î∞õÏïÑÏì∞Í∏∞Ïùò ÎÅùÌåêÏôï üëë' :
                                    correctScore >= 90 ? 'Í∞ê Ïû°ÏïòÏñ¥! ÏßëÏ§ëÎ†• ÏµúÍ≥† üî•' :
                                    correctScore >= 70 ? 'ÌùêÎ¶Ñ ÌÉîÏñ¥! Î∞îÎ°ú Îã§Ïãú Í∞ÄÎ≥¥Ïûê üöÄ' :
                                    correctScore >= 50 ? 'Ïù¥Ï†úÎ∂ÄÌÑ∞ ÏãúÏûëÏù¥ÏßÄ! ‚ö°' :
                                    'Î∞∞Ïö¥ Í±¥ Îçî ÎßéÏïÑ! ÌïúÎ≤à Îçî! üí°'
                                }">
                            <p class="title_info center" th:utext="${resultMsg}"></p>
                        </th:block>
                    </div>
                </div>
                <div class="component grid_list">
                    <div class="component_title">
                        <p class="component_sub_title tac" th:text="|${summary.totalQuestion}Î¨∏Ï†ú Ï§ë|">nÎ¨∏Ï†ú Ï§ë</p>
                        <p class="title_info center">
                            [[${summary.correctAnswers}]]Í∞ú Ï†ïÎãµ!
                            <span th:if="${summary.totalQuestion == summary.correctAnswers}">üíØ</span>
                        </p>
                    </div>
                </div>
                <div class="component grid_list">
                    <div class="component_title">
                        <p class="component_sub_title tac" th:text="|Ï¥ù ÌíÄÏù¥ ÏãúÍ∞Ñ ${summary.totalTimeSec}Ï¥à|">Ï¥ù ÌíÄÏù¥ ÏãúÍ∞Ñ N.nnnÏ¥à</p>
                        <p class="title_info center" th:text="|Î¨∏Ï†úÎãπ ÌèâÍ∑† ${summary.averageTimePerQuestion}Ï¥à|">Î¨∏Ï†úÎãπ ÌèâÍ∑† N.nnnÏ¥à</p>
                    </div>
                </div>
            </div>
        </div>

        <!--/* Î¨∏Ï†ú ÌíÄÏù¥ ÏÉÅÏÑ∏ Í≤∞Í≥º */-->
        <div class="component tiny_list_component h_100 show_scroll">
            <div class="component_info with_icon align_start sub_font"
                 th:each="result, iterStat : ${results}">
                <div class="list_info ov_v" style="--cols: 18; --indexCols: 2;">
                    <div class="index_list">
                        <span class="color_primary bold" th:text="|Q${iterStat.count}|">Q1</span>
                        <p th:text="${result.question}">Î¨∏Ï†ú</p>
                    </div>
                    <div class="index_list">
                        <div class="color_blue bold pos_r">
                            A
                            <span class="result_icon incorrect icon large"
                                  th:classappend="${result.success ? 'Y' : 'N'}"></span>
                        </div>
                        <p th:text="${result.userAnswer ?: 'ÏûÖÎ†•ÌïòÏßÄ ÏïäÏùå'}">ÏûÖÎ†•Ìïú ÎÇ¥Ïö©</p>
                    </div>
                </div>

                <!--/* Îã§Ïãú Îì£Í∏∞ Î≤ÑÌäº */-->
                <button type="button"
                        class="repeat_btn tooltip"
                        th:data-question-no="${result.dictationQuestionNo}"
                        th:data-question="${result.question}"
                        data-label="Îã§Ïãú Îì£Í∏∞">
                    <iconify-icon class="icon title_font color_primary" icon="fluent:speaker-2-16-regular"></iconify-icon>
                </button>
            </div>
        </div>

        <div class="btn_list">
            <a href="/quiz" class="btn">Íµ≠Ïñ¥ ÎÜÄÏù¥ÌÑ∞Î°ú</a>
            <a href="/" class="btn white">ÎßàÎãπÏúºÎ°ú</a>
            <a href="/dictation/start" class="btn primary">Îã§Ïãú ÎèÑÏ†Ñ!</a>
        </div>
    </div>
</div>

<th:block layout:fragment="script">
    <script type="module" th:src="@{/js/modules/dictation/dictation.js}"></script>
</th:block>
</html>
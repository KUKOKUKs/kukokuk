<!DOCTYPE html>
<html layout:decorate="~{/layout/center}" th:with="title='받아쓰기', menu='quiz'">
<div layout:fragment="content">
    <form th:action="@{/dictation/submit-answer}"
          method="post"
          id="main-content">
        <div class="content_info">
            <div class="content_title justify_content_center">
                <iconify-icon icon="flat-color-icons:voice-presentation"></iconify-icon>
                받아쓰기

                <div class="progress_end_btn quiz_end_btn">
                    <button type="button" class="btn tiny">종료하기</button>
                </div>
            </div>

            <div class="progress_container">
                <div class="progress_component">
                    <div class="progress_info">
                        <span class="icon">
                            <iconify-icon icon="fluent-color:chat-bubbles-question-16"></iconify-icon>
                        </span>
                        <p class="info">
                            <span id="quiz-current" th:text="${questionIndex + 1}">0</span> / <span th:text="${dictationQuestions.size()}">0</span>
                        </p>
                    </div>
                    <div class="progress_info">
                        <div class="hints_info">
                            <div class="hint_icon">
                                <img th:src="@{/images/favicon-32x32.png/}" alt="hints">
                            </div>
                            <span class="hint_count">x <span id="hint-count">0</span></span>
                        </div>
                    </div>
                </div>

                <div class="bar_gauge">
                    <div class="gauge" th:style="|width: ${((questionIndex + 1) / dictationQuestions.size()) * 100}|%"></div>
                </div>
            </div>
        </div>





    </form>


    <div>
        <div id="center_content">
            <div class="question_container blue">
                <div class="question_info">
                    <button type="button" class="question_title_info" th:attr="data-question-no=${currentQuestion.dictationQuestionNo}">
                        <span class="speaker_icon">
                            <iconify-icon icon="fluent:speaker-2-16-regular"></iconify-icon>
                        </span>
                        <span class="question_title"
                              th:text="'문제 ' + (${questionIndex} + 1) + '번'"></span>
                      </button>
                    <div class="hint_btns">
                        <button type="button"
                                id="HintBtn1"
                                class="hint_btn"
                                th:attr="data-question-no=${currentQuestion.dictationQuestionNo}">띄어<br>쓰기</button>
                        <button type="button"
                                id="HintBtn2"
                                class="hint_btn"
                                th:attr="data-question-no=${currentQuestion.dictationQuestionNo}">초성<br>나열</button>
                        <button type="button"
                                id="HintBtn3"
                                class="hint_btn"
                                th:attr="data-question-no=${currentQuestion.dictationQuestionNo}">첫<br>글자</button>
                    </div>
                </div>
                <div class="question_info justify_content_center bg_blue">
                    <div class="square_info">
                    </div>
                </div>
            </div>

            <div class="question_container yellow">
                <div class="answer_info">
                    <label for="user-answer" class="question_title_info color_primary">
                        <span class="question_title">받아쓰기</span>
                    </label>
                        <input type="text" name="userAnswer" id="user-answer" required />
                </div>
            </div>

            <div class="answer_btn_list">
                <button type="button"
                        id="AnswerBtn"
                        class="btn white"
                        th:attr="data-question-no=${currentQuestion.dictationQuestionNo}">
                    정답 보기
                </button>
                <button type="submit" class="btn primary">
                    제출(<span th:text="${triesLeft}">2</span>)
                </button>
            </div>
        </div>
    </div>
</div>

<th:block layout:fragment="script">
    <script type="module" th:src="@{/js/modules/dictation/dictation.js}"></script>
</th:block>
</html>

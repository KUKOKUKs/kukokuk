<!DOCTYPE html>
<html layout:decorate="~{layout/center}" th:with="title=|${difficulty} Îã®Í≥Ñ ÌÄ¥Ï¶à Í≤∞Í≥º|">
<div layout:fragment="content">
    <div id="main-content" class="content_container">
        <div class="content_info">
            <div class="content_title justify_content_center">
                <iconify-icon icon="token-branded:step"></iconify-icon>
                [[${difficulty}]] Îã®Í≥Ñ ÌÄ¥Ï¶à Í≤∞Í≥º
            </div>

            <div class="grid_list_component" style="--cols: 2;">
                <div class="component grid_list full_grid bg_primary color_white highlight">
                    <div class="component_title">
                        <th:block th:with="percent=${(summary.correctAnswers * 100) / summary.totalQuestion}">
                            <th:block th:if="${difficulty == 'Ìïò'}">
                                <p class="title_info center" th:utext="|${difficulty} Îã®Í≥Ñ<br>
                                    ${percent == 100 ? 'ÎßåÏ†ê! Í∏∞Î≥∏Í∏∞ ÎÅùÌåêÏôï! üèÜ' :
                                    percent >= 90 ? 'ÍµêÍ≥ºÏÑú Í∑∏ ÏûêÏ≤¥! ÏôÑÎ≤ΩÏóê Ìïú Î∞úÏßù! ‚ú®' :
                                    percent >= 70 ? 'Í∏∞Î≥∏Í∏∞ ÌÉÑÌÉÑ, ÏÑ±Ïû• Í∞ÄÏÜç Ï§ë! üöÄ' :
                                    percent >= 50 ? 'Í∏∞Ï¥àÎäî Ïû°ÌòîÎã§! Ï°∞Í∏àÎßå Îçî! üìà' :
                                    'Ïó∞ÏäµÏù¥ Í≥ß Ïã§Î†•! ÌïúÎ≤à Îçî! üí™'}|"></p>
                            </th:block>
                            <th:block th:if="${difficulty == 'Ï§ë'}">
                                <p class="title_info center" th:utext="|${difficulty} Îã®Í≥Ñ<br>
                                    ${percent == 100 ? 'ÎßåÏ†ê! Ïã§Î†•Ïûê Ïù∏Ï¶ù ÏôÑÎ£å! üéâ' :
                                    percent >= 90 ? 'Í∞ê Ïû°ÏïòÏñ¥! ÏßëÏ§ëÎ†• ÏµúÍ≥†! üî•' :
                                    percent >= 70 ? 'ÌùêÎ¶Ñ ÌÉîÎã§! Ïã§Î†•Ïù¥ ÎààÏóê Î≥¥Ïù∏Îã§! üèÉ' :
                                    percent >= 50 ? 'ÏßÄÍ∏àÎ∂ÄÌÑ∞ ÏãúÏûëÏù¥Îã§! ‚ö°' :
                                    'Ìè¨Í∏∞ Í∏àÏßÄ! ÌïúÎ≤à Îçî! üí™'}|"></p>
                            </th:block>
                            <th:block th:if="${difficulty == 'ÏÉÅ'}">
                                <p class="title_info center" th:utext="|${difficulty} Îã®Í≥Ñ<br>
                                    ${percent == 100 ? 'ÎßåÏ†ê! Ï±åÎ¶∞ÏßÄ Ï†ïÎ≥µÏûê Îì±Í∑π! üëë' :
                                    percent >= 90 ? 'ÌùîÎì§Î¶º ÏóÜÎäî Ïã§Î†•! ü¶æ' :
                                    percent >= 70 ? 'ÏßëÏ§ëÌï¥ÏÑú Îã§Ïãú! Ìï† Ïàò ÏûàÎã§! üî•' :
                                    percent >= 50 ? 'Ïù¥Ï†úÎ∂ÄÌÑ∞ ÏßÑÏßú! Í∏∞ÏÑ∏ Ïò¨Î¶¨Ïûê! ‚ö°' :
                                    'Ïù¥ Ï†ïÎèÑÎ°ú ÎßåÏ°±Ìï† Ïàú ÏóÜÏßÄ! ÌïúÎ≤à Îçî! üí™'}|"></p>
                            </th:block>
                            <th:block th:unless="${difficulty == 'Ìïò' or difficulty == 'Ï§ë' or difficulty == 'ÏÉÅ'}">
                                <p class="title_info center" th:utext="|${difficulty} Îã®Í≥Ñ<br>Í≤∞Í≥º Î©îÏãúÏßÄÎ•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.|"></p>
                            </th:block>
                        </th:block>
                    </div>
                </div>
                <div class="component grid_list">
                    <div class="component_title">
                        <p class="component_sub_title tac" th:text="|${summary.totalQuestion}Î¨∏Ï†ú Ï§ë|">nÎ¨∏Ï†ú Ï§ë</p>
                        <p class="title_info center">
                            [[${summary.correctAnswers}]]Í∞ú Ï†ïÎãµ!
                            <span th:if="${summary.totalQuestion == summary.correctAnswers}">üíØ</span>
                        </p>
                    </div>
                </div>
                <div class="component grid_list">
                    <div class="component_title">
                        <p class="component_sub_title tac">Î¨∏Ï†ú Ïú†Ìòï</p>
                        <p class="title_info center" th:text="|${questionType} ÎßûÏ∂îÍ∏∞|">Îúª/Îã®Ïñ¥ ÎßûÏ∂îÍ∏∞</p>
                    </div>
                </div>
            </div>
        </div>

        <!--/* Î¨∏Ï†ú ÌíÄÏù¥ ÏÉÅÏÑ∏ Í≤∞Í≥º */-->
        <div class="component tiny_list_component h_100 show_scroll">
            <div class="component_info with_icon align_start sub_font"
                 th:each="result, iterStat : ${results}">
                <div class="list_info ov_v" style="--cols: 18; --indexCols: 2;">
                    <div class="index_list">
                        <span class="color_primary bold" th:text="|Q${iterStat.count}|">Q1</span>
                        <p th:text="${result.question}">Î¨∏Ï†ú</p>
                    </div>
                    <div class="index_list">
                        <div class="color_blue bold pos_r">
                            A<span th:if="${result.selectedChoice != 0}"
                                   th:text="${result.selectedChoice}">ÏÑ†ÌÉùÌïú Î≥¥Í∏∞ Î≤àÌò∏</span>
                            <span class="result_icon incorrect icon large"
                                  th:classappend="${result.success ? 'correct' : 'incorrect'}">Ï†ïÎãµ Ïó¨Î∂Ä</span>
                        </div>
                        <p th:text="${result.getOption(result.selectedChoice) ?: 'ÏÑ†ÌÉùÌïòÏßÄ ÏïäÏùå'}">ÏÑ†ÌÉùÌïú Î≥¥Í∏∞ ÎÇ¥Ïö©</p>
                    </div>

                    <!--/* Ïò§ÎãµÏùº Í≤ΩÏö∞ Ï†ïÎãµ ÌôïÏù∏ Î≤ÑÌäº Ï∂îÍ∞Ä */-->
                    <div th:if="${!result.success}" class="index_list">
                        <span></span> <!--/* Í∞ôÏùÄ Î†àÏù¥ÏïÑÏõÉÏùÑ Í∞ÄÏßÄÍ∏∞ ÏúÑÌï¥ Îπà ÏöîÏÜå Ï∂îÍ∞Ä */-->
                        <div class="check_correct">
                            <div class="list_option">
                                <span class="marker" th:text="|${result.successAnswer}.|">Ï†ïÎãµ Î≤àÌò∏</span>
                                <p class="text_ellipsis correct_answer"
                                   th:text="${result.getOption(result.successAnswer)}">Ï†ïÎãµ Î≥¥Í∏∞ ÎÇ¥Ïö©</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!--/* Î∂ÅÎßàÌÅ¨ Ï∂îÍ∞Ä/Ï†úÍ±∞ Î≤ÑÌäº */-->
                <button type="button"
                        class="bookmark_btn tooltip"
                        th:data-bookmarked="${result.bookmarked}"
                        th:data-label="|Î∂ÅÎßàÌÅ¨ ${result.bookmarked ? 'Ï†úÍ±∞' : 'Ï∂îÍ∞Ä'}|">
                    <iconify-icon class="icon title_font"
                                  th:classappend="${result.bookmarked ? 'color_yellow' : 'color_border'}"
                                  icon="material-symbols:bookmark-star"></iconify-icon>
                </button>
            </div>
        </div>

        <div class="btn_list">
            <a href="/quiz" class="btn">Íµ≠Ïñ¥ ÎÜÄÏù¥ÌÑ∞Î°ú</a>
            <a href="/" class="btn white">ÎßàÎãπÏúºÎ°ú</a>
            <a href="/quiz/speed" class="btn primary">Îã§Ïãú ÎèÑÏ†Ñ!</a>
        </div>
    </div>
</div>
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/center}">
<!--/* 학습 진행화면에서 표시할 네비바 */-->
<div layout:fragment="fixed-nav-fragment" th:replace="~{fragments/study/study-nav :: study-nav-fragment(studyProgress=${data})}"></div>

<div layout:fragment="content">
    <!-- 학습진행바 -->
    <div class="level_info study_progress">
        <div class="bar_gauge">
            <!--/* 퀴즈는 항상 4개 */-->
            <div class="gauge"></div>
            <div class="marker">
                <div class="line"></div>
                <div class="label">퀴즈</div>
            </div>
        </div>
    </div>

    <!-- 학습 카드 -->
    <div id="main-study-content">
        <div class="component study_progress_card">
            <div class="title">학습제목</div>
            <div class="paragraph">학습내용 paragraph</div>
            <div class="example">학습내용예시 example</div>
            <div class="definition">학습내용정의 definition</div>
            <div class="quote">학습내용인용 quote</div>
            <div class="list">학습내용리스트 list</div>
        </div>
        <!--    <th:block th:each="card : ${data.cards}">-->
        <!--      <p th:text="${card.cardIndex}"></p>-->
        <!--      <p th:text="${card.content}"></p>-->
        <!--      <p th:text="${card.dailyStudyCardNo}"></p>-->
        <!--    </th:block>-->
    </div>

    <!-- 카드 넘기는 버튼 -->
    <div class="btn_list">
        <button class="btn white" id="prev-btn">이전</button>
        <button class="btn white" id="next-btn">다음</button>
    </div>

</div>

<th:block layout:fragment="script">
    <script th:inline="javascript">
        /*<![CDATA[*/
        // 백엔드 서버에서 전달된 data.cards 객체 리스트를 자바스크립트 변수로 바인딩
        // 자동으로 JSON.stringify()되어 들어간다
        let cards = /*[[${data.cards}]]*/ [];
        let dailyStudy = /*[[${data.dailyStudy}]]*/ {};
        let studyLog = /*[[${data.log}]]*/ {};
        let quizzes = /*[[${data.quizzes}]]*/ [];
        let quizLogs = /*[[${data.quizLogs}]]*/ [];
        /*]]>*/
    </script>
    <script type="module" th:src="@{/js/modules/study/study-progress.js}"></script>
</th:block>

</html>